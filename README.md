# MonitorDashboard
系统监控 Web 面板，具备基础监控展示、交互与可视化，模拟数据驱动功能

## 设计说明

**技术选型**：
- 前端：React 19 + Vite + 原生SVG图表（无第三方图表库依赖）
- 后端：FastAPI + Python + Pydantic
- 状态管理：React Hooks + Context API
- 样式：CSS变量 + 响应式设计

**AI 使用方式**：
- 使用Claude Code进行全栈开发，包括前端组件设计、后端API实现和数据模型构建
- 通过分步骤实现各个功能模块，确保代码质量和功能完整性
- 实现了完整的模拟数据生成系统，包含18台服务器、多区域、多服务类型的监控数据

**关键收获**：
- 前后端分离架构的设计与实践
- 实时数据流处理和状态管理
- 模拟数据生成和API设计
- 响应式UI设计和用户体验优化

## 功能与界面要求
1. 总体布局
  1. 响应式
  2. 顶部控制台（固定高约 60px）
  3. 左侧边栏（固定宽约 300px）
  4. 右上系统状态区（占右侧区域的上部，高度约 30%）
  5. 右侧主可视化区（占右侧剩余空间）
2. 视觉主题（深色、蓝黑系）
``` CSS
:root {
  --primary-bg: #0a0e27;
  --secondary-bg: #1a1d3e;
  --accent-blue: #00d4ff;
  --success-green: #00ff88;
  --warning-yellow: #ffb800;
  --error-red: #ff4757;
  --text-primary: #e6eef9;
  --text-secondary: #9aa5b1;
  --border-color: #2a2f55;
}
```
3. 功能点
  1. 控制台（顶部）
    - 全局操作按钮：启动/暂停数据流、刷新数据、切换主题对比。
    - 搜索与筛选：按服务器名/标签/区域过滤。
    - 用户信息占位：展示用户名或占位符。
    验收：搜索可以实时过滤列表；暂停后数据不再滚动更新；刷新会重置/再拉起数据流。
  2. 任务管理面板（左侧边栏）
    - 监控任务列表：展示任务名、目标集群、状态（排队/运行中/失败/完成）。
    - 进度显示：任务有 0–100% 的可视化进度条。
    - 异常告警记录：最近 N 条告警（时间、来源、严重级别、简述）。
    验收：列表可滚动；告警按时间倒序；点击某条任务显示详情。
  3. 系统状态监控区（右上）
    - 服务器核心指标聚合：CPU、内存、磁盘、网络 I/O、平均负载。
    - 负载均衡状态摘要：示例如“流量分配均衡/倾斜比超阈值”。
      - 健康度规则示例：cpu > 85% 或 mem > 90% 或 load1m > 5 判为不健康。
      - 负载均衡摘要：统计各服务器 netIn/netOut 分布，若最大值/最小值比值 > 3 视为“倾斜”。
    - 服务健康指示：以红/黄/绿三色指示当前健康度。
    验收：每 1–2 秒更新一次；健康指示基于阈值规则实时变化。
  4. 数据可视化中心（右侧主区域）
    - 至少两类图表：折线（时序）+ 仪表盘/饼图/柱状至少其一。
    - 多维度切换：可按服务器/区域/服务类型切换视图。
    - 历史回放：提供时间滑块或选择器，回看最近 5–15 分钟的指标。
  验收：切换维度后图表更新；回放时图表按选定时间区间重绘或滚动。
4. 工程与体验要求
  - 响应式布局：≥ 1280px 桌面宽度下布局稳定；在 1024px 宽度下可接受降级但不破版。
  - 性能：动态更新不明显卡顿；列表采用惰性渲染或虚拟滚动（当任务/告警 > 200 条时建议启用）。
  - 可靠性：暂停/恢复不丢状态；异常输入或无数据时有空态与错误提示。
  - 可维护性：组件化清晰；状态管理边界明确（局部状态 vs 全局状态）；存在最小单元测试或快照测试（非强制，计入加分）。
  - 可访问性：交互元素有可视化反馈与可读文本；颜色对比符合深色主题可读性。

## 硬性要求：
- 总时长：不限
- 允许：任意前端框架（React/Vue/Angular/原生 JS）、常见图表库（ECharts/Chart.js/Recharts/D3 等）、常见状态管理库与组件库（不限制）。
- 禁止：直接使用现成的“监控面板模板/成品主题/整套仪表盘示例”拷贝粘贴。
- 数据要求：仅用本地模拟或内存数据流，不接入真实生产或第三方监控API。
交付物：
1. 代码仓库（或压缩包）：可运行项目 + 自述文件（README）。
2. 过程日志：与AI Coding工具的关键交互记录，包括日志文件和截图。
3. 设计说明（≤ 300 字，写入 README 顶部）：包含技术选型、AI 使用方式与关键收获。
4. 运行说明：本地启动命令、端口、初始账号（如有）、快捷键（如有）。

# 项目开发
## 项目结构设计
monitor-dashboard/
├─ backend/                 # 可选，用于模拟 API
│  ├─ simulator.py          # 模拟数据生成
│  └─ main.py               # FastAPI 或 Express 服务
├─ frontend/
│  ├─ src/
│  │  ├─ App.jsx            # 根组件
│  │  ├─ components/        # UI组件
│  │  │  ├─ Header.jsx      # 顶部控制台
│  │  │  ├─ Sidebar.jsx     # 左侧任务列表
│  │  │  ├─ SystemStatus.jsx# 右上系统状态
│  │  │  ├─ Dashboard.jsx   # 可视化中心
│  │  │  └─ Charts/         # 各类图表组件
│  │  ├─ hooks/             # 状态管理/数据流
│  │  └─ styles/            # Tailwind + 自定义 CSS变量
├─ logs/                    # AI调用日志
├─ README.md
├─ package.json
└─ vite.config.js

## 运行说明

### 快速启动（推荐）

```bash
# 进入项目根目录
cd MonitorDashboard

# 运行全局启动脚本
python start_all.py
```

### 分别启动

#### 后端服务器
```bash
# 进入backend目录
cd backend

# 使用启动脚本
python start_server.py

# 或手动启动
pip install -r requirements.txt
python -m uvicorn main:app --host 0.0.0.0 --port 8000 --reload
```

#### 前端开发服务器
```bash
# 进入frontend目录
cd frontend

# 安装依赖
npm install

# 启动开发服务器
npm run dev
```

### 访问地址

- **前端界面**: http://localhost:5173
- **后端API**: http://localhost:8000
- **API文档**: http://localhost:8000/docs
- **交互式API**: http://localhost:8000/redoc

### 功能特性

- **实时数据**: 每2秒自动更新监控数据
- **多维度筛选**: 支持按区域、标签、状态筛选
- **搜索功能**: 全文搜索服务器、任务、告警
- **响应式设计**: 支持桌面和移动设备
- **错误处理**: 完善的错误提示和重试机制
- **数据可视化**: SVG实现的折线图、饼图和状态卡片

### 测试功能

```bash
# 测试后端API
cd backend
python test_api.py
```

### 快捷键

- `Ctrl+C`: 停止服务器
- `F5`: 刷新页面数据
- 搜索框: 实时筛选和搜索
